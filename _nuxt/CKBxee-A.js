function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./ChsAMAQv.js","./Dtfqm1tf.js","./uDF8xnmj.js","./entry.CTCCIR_D.css","./oHuBoWD7.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as M,u as te,g as oe,a as ne,f as he,c as ce,d as fe}from"./Dtfqm1tf.js";import{o as n,c as r,i,w as se,F as V,r as z,n as b,t as v,e as f,b as c,B as re,g as ee,m as j,v as w,d as T,k as je,f as L,C as be,h as ye,D as we,_ as ge}from"./uDF8xnmj.js";import{S as xe}from"./aIEJ1UhE.js";const $e={},ke={viewBox:"0 0 10 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ce=i("line",{x1:"10",y1:"0.25",x2:"-2.18557e-08",y2:"0.249999",stroke:"currentColor","stroke-width":"0.5"},null,-1),Se=i("line",{x1:"10",y1:"4.25",x2:"-2.18557e-08",y2:"4.25",stroke:"currentColor","stroke-width":"0.5"},null,-1),Ie=[Ce,Se];function Te(e,s){return n(),r("svg",ke,Ie)}const Fe=M($e,[["render",Te]]),Le={},Ve={viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ze=i("rect",{width:"4",height:"4",fill:"currentColor"},null,-1),Me=i("rect",{x:"6",y:"3",width:"4",height:"4",fill:"currentColor"},null,-1),Pe=[ze,Me];function He(e,s){return n(),r("svg",Ve,Pe)}const Be=M(Le,[["render",He]]),Re=async()=>{const e=te(),s=oe`*[_type == "capability"] | order(orderRank asc) {
      title,
      "slug": slug.current,
      code,
      "relatedProjectsCount": count(*[_type == "project" && references(^._id)])
    }`,{data:t}=await ne("cabapibilities",()=>e.fetch(s));return t},We=async()=>{const e=te(),s=oe`*[_type == "nature"] | order(orderRank asc) {
    title,
    "slug": slug.current,
    code,
    "relatedProjectsCount": count(*[_type == "project" && references(^._id)])
  }`,{data:t}=await ne("natures",()=>e.fetch(s));return t},qe=async()=>{const e=te(),s=oe`*[_type == "location"] | order(orderRank asc) {
      title,
      "slug": slug.current,
      "relatedProjectsCount": count(*[_type == "project" && references(^._id)])
    }`,{data:t}=await ne("locations",()=>e.fetch(s));return t},De=async()=>{const e=te(),s=oe`*[_type == "years"] | order(orderRank asc) {
    title,
    "relatedProjectsCount": count(*[_type == "project" && references(^._id)])
  }`,{data:t}=await ne("years",()=>e.fetch(s));return t},Ne={class:"col-span-3 md:col-span-1"},Oe=i("label",{class:"block"},"Capabilities",-1),Ee={class:"mt-3"},Xe=["onClick"],Ye={key:1,class:"uppercase pointer-events-none opacity-30"},Ae={__name:"Capabilities",props:{currentSlug:String},emits:["changeFilter"],async setup(e,{emit:s}){let t,o;const d=([t,o]=se(()=>Re()),t=await t,o(),t),p=s;return(l,m)=>(n(),r("div",Ne,[Oe,i("ul",Ee,[(n(!0),r(V,null,z(c(d),({title:a,slug:u,code:g,relatedProjectsCount:_})=>(n(),r("li",null,[_>0?(n(),r("button",{key:0,class:b(["text-left uppercase cursor-pointer transition-opacity hover:text-blue filter-label",{"text-blue":e.currentSlug===u}]),onClick:h=>p("changeFilter",u)},v(a)+" ("+v(g)+") ",11,Xe)):f("",!0),_?f("",!0):(n(),r("label",Ye,v(a)+" ("+v(g)+") ",1))]))),256))])]))}},Ge=Ae,Ue={class:"col-span-3 md:col-span-1"},Ze=i("label",{class:"block"},"Nature",-1),Je={class:"mt-3"},Ke=["onClick"],Qe={key:1,class:"uppercase pointer-events-none opacity-30"},et={__name:"Natures",props:{currentSlug:String},emits:["changeFilter"],async setup(e,{emit:s}){let t,o;const d=([t,o]=se(()=>We()),t=await t,o(),t),p=s;return(l,m)=>(n(),r("div",Ue,[Ze,i("ul",Je,[(n(!0),r(V,null,z(c(d),({title:a,slug:u,code:g,relatedProjectsCount:_})=>(n(),r("li",null,[_>0?(n(),r("button",{key:0,class:b(["text-left uppercase cursor-pointer transition-opacity hover:text-blue filter-label",{"text-blue":e.currentSlug===u}]),onClick:h=>p("changeFilter",u)},v(a)+" ("+v(g)+") ",11,Ke)):f("",!0),_?f("",!0):(n(),r("label",Qe,v(a)+" ("+v(g)+") ",1))]))),256))])]))}},tt=et,ot={class:"col-span-3 md:col-span-1"},nt=i("label",{class:"block"},"Locations",-1),st={class:"mt-3"},ct=["onClick"],rt={key:1,class:"uppercase pointer-events-none opacity-30"},at={__name:"Locations",props:{currentSlug:String},emits:["changeFilter"],async setup(e,{emit:s}){let t,o;const d=([t,o]=se(()=>qe()),t=await t,o(),t),p=s;return(l,m)=>(n(),r("div",ot,[nt,i("ul",st,[(n(!0),r(V,null,z(c(d),({title:a,slug:u,relatedProjectsCount:g})=>(n(),r("li",null,[g>0?(n(),r("button",{key:0,class:b(["text-left uppercase cursor-pointer transition-opacity hover:text-blue filter-label",{"text-blue":e.currentSlug===u}]),onClick:_=>p("changeFilter",u)},v(a),11,ct)):f("",!0),g?f("",!0):(n(),r("label",rt,v(a),1))]))),256))])]))}},lt=at,it={class:"col-span-3 md:col-span-1"},ut=i("label",{class:"block"},"Years",-1),dt={class:"mt-3"},pt=["onClick"],mt={key:1,class:"uppercase pointer-events-none opacity-30"},_t={__name:"Years",props:{currentSlug:String},emits:["changeFilter"],async setup(e,{emit:s}){let t,o;const d=([t,o]=se(()=>De()),t=await t,o(),t),p=s;return(l,m)=>(n(),r("div",it,[ut,i("ul",dt,[(n(!0),r(V,null,z(c(d),({title:a,relatedProjectsCount:u})=>(n(),r("li",null,[u>0?(n(),r("button",{key:0,class:b(["text-left uppercase cursor-pointer transition-opacity hover:text-blue filter-label",{"text-blue":e.currentSlug===a}]),onClick:g=>p("changeFilter",a)},v(a),11,pt)):f("",!0),u?f("",!0):(n(),r("label",mt,v(a),1))]))),256))])]))}},gt=_t,ht={class:"pointer-events-none"},ft={class:"pointer-events-none"},bt={__name:"index",emits:["toggle"],setup(e,{emit:s}){const t=re(),o=ee(!1),d=s,p=()=>{o.value=!o.value,d("toggle",o.value)},l=ee(!1),m=()=>{l.value=!l.value,a("all")},a=u=>{t.slug===u?t.slug="all":t.slug=u};return(u,g)=>{const _=Fe,h=Be,y=Ge,k=tt,x=lt,$=gt;return n(),r("section",{class:b(["items-start pb-8 font-mono text-sm uppercase pt-9 container-fluid",{"pb-32":c(l)}])},[i("button",{onClick:p,class:"flex items-center p-0 m-0 uppercase bg-transparent border-none cursor-pointer col-span-3 md:col-span-1 gap-2 w-fit"},[j(T(_,{class:"w-2.5 h-auto pointer-events-none"},null,512),[[w,!c(o)]]),j(T(h,{class:"w-2.5 h-auto pointer-events-none",fontControlled:!1},null,512),[[w,c(o)]]),j(i("span",ht,"Index view",512),[[w,!c(o)]]),j(i("span",ft,"Thumbnails View",512),[[w,c(o)]])]),i("button",{onClick:m,class:"hidden uppercase bg-transparent border-none cursor-pointer col-span-3 md:block md:col-span-1 w-fit"},[je(" Filter "),j(i("span",null,"(X)",512),[[w,c(l)]])]),j(T(y,{currentSlug:c(t).slug,onChangeFilter:a},null,8,["currentSlug"]),[[w,c(l)]]),j(T(k,{currentSlug:c(t).slug,onChangeFilter:a},null,8,["currentSlug"]),[[w,c(l)]]),j(T(x,{currentSlug:c(t).slug,onChangeFilter:a},null,8,["currentSlug"]),[[w,c(l)]]),j(T($,{currentSlug:c(t).slug,onChangeFilter:a},null,8,["currentSlug"]),[[w,c(l)]])],2)}}},Ut=bt,yt={class:"relative flex w-full aspect-video"},vt=["src","poster"],jt=["innerHTML"],wt=["innerHTML"],xt={__name:"Horizontal",props:{project:Object},setup(e){const s=re(),t=e,o={"aspect-video":t.project.thumbnail.format==="horizontal","aspect-square":t.project.thumbnail.format==="square","aspect-vertical":t.project.thumbnail.format==="vertical","aspect-verticalXL":t.project.thumbnail.format==="verticalXL"},d={order:t.project.order,client:t.project.client,capabilities:t.project.capabilities,nature:t.project.nature,locations:t.project.locations,year:t.project.year},p=he(d),l=[...t.project.capabilities.map(m=>m.slug),...t.project.locations.map(m=>m.slug),t.project.nature.slug,t.project.year].join(" ");return(m,a)=>{var _,h,y,k,x,$,C,F,S,I,P,H,B,R,W,q,D,N,O,E,X,Y,A,G,U,Z,J,K,Q;const u=ce,g=fe;return n(),r("article",{class:b(["relative z-20 uppercase grid grid-cols-2 col-span-full md:col-span-2 gap-4 card transition-opacity duration-500",[{"opacity-20 pointer-events-none":((_=c(s))==null?void 0:_.slug)!="all"&&!c(l).includes((h=c(s))==null?void 0:h.slug)}]])},[i("div",yt,[(y=e.project)!=null&&y.featuredVideo?(n(),r("video",{key:0,src:(k=e.project)==null?void 0:k.featuredVideo,autoplay:"",loop:"",muted:"",playsinline:"",loading:"eager",class:b(["object-cover w-full h-full overflow-hidden pointer-events-none bg-gray-light",[o,{"grayscale bg-white":((x=c(s))==null?void 0:x.slug)!="all"&&!c(l).includes(($=c(s))==null?void 0:$.slug)}]]),poster:(S=(F=(C=e.project)==null?void 0:C.featuredImage)==null?void 0:F.asset)==null?void 0:S.url},null,10,vt)):(n(),L(u,{key:1,class:b(["object-cover object-center w-auto h-full",[o,{"grayscale bg-white":((I=c(s))==null?void 0:I.slug)!="all"&&!c(l).includes((P=c(s))==null?void 0:P.slug)}]]),image:(H=e.project)==null?void 0:H.featuredImage,width:"400",mobileWidth:"400",alt:`${(B=e.project)==null?void 0:B.client} ${(R=e.project)==null?void 0:R.title}`,loading:"eager"},null,8,["class","image","alt"]))]),i("div",{class:b(["flex flex-col max-w-xs uppercase gap-4 text-pretty",[{"transition-colors":(q=(W=e.project)==null?void 0:W.status)==null?void 0:q.isPublic}]])},[i("div",{innerHTML:c(p)},null,8,jt),(N=(D=e.project)==null?void 0:D.status)!=null&&N.statusText?(n(),r("label",{key:0,class:b([{"text-blue transition-colors":(E=(O=e.project)==null?void 0:O.status)==null?void 0:E.isPublic,"opacity-30":!((Y=(X=e.project)==null?void 0:X.status)!=null&&Y.isPublic)}]),innerHTML:(G=(A=e.project)==null?void 0:A.status)==null?void 0:G.statusText},null,10,wt)):f("",!0)],2),(Z=(U=e.project)==null?void 0:U.status)!=null&&Z.isPublic?(n(),L(g,{key:0,"aria-label":`View ${(J=e.project)==null?void 0:J.client} ${(K=e.project)==null?void 0:K.title} project`,class:"inset",to:`/work/${(Q=e.project)==null?void 0:Q.slug}`},null,8,["aria-label","to"])):f("",!0)],2)}}},$t=M(xt,[["__scopeId","data-v-56e3fab2"]]),kt={id:"index-view",class:"container-fluid"},Ct={__name:"index",props:{showIndex:Boolean,projects:Object},setup(e){return(s,t)=>{const o=$t;return j((n(),r("section",kt,[(n(!0),r(V,null,z(e.projects,d=>(n(),L(o,{class:"md:grid col-span-full md:grid-cols-3 md:col-span-3",key:d._id,project:d},null,8,["project"]))),128))],512)),[[w,e.showIndex]])}}},Zt=Ct,St=["src","poster"],It=["innerHTML"],Tt=["innerHTML"],Ft={__name:"Regular",props:{project:Object},setup(e){const s=re(),t=be(),o=e,d={"aspect-video":o.project.thumbnail.format==="horizontal","aspect-square":o.project.thumbnail.format==="square","aspect-vertical":o.project.thumbnail.format==="vertical","aspect-verticalXL":o.project.thumbnail.format==="verticalXL"},p={"card-small":o.project.thumbnail.size==="small","card-medium":o.project.thumbnail.size==="medium","card-large":o.project.thumbnail.size==="large"};let l=null;const m=_=>{var h,y;((y=(h=o.project)==null?void 0:h.status)==null?void 0:y.isPublic)===!0&&(_?l=setTimeout(()=>{t.slug=o.project.slug},700):(l&&clearTimeout(l),t.slug=""))},a={order:o.project.order,client:o.project.client,capabilities:o.project.capabilities,nature:o.project.nature,locations:o.project.locations,year:o.project.year},u=he(a),g=[...o.project.capabilities.map(_=>_.slug),...o.project.locations.map(_=>_.slug),o.project.nature.slug,o.project.year].join(" ");return(_,h)=>{var x,$,C,F,S,I,P,H,B,R,W,q,D,N,O,E,X,Y,A,G,U,Z,J,K,Q,ae,le,ie,ue,de,pe,me,_e;const y=ce,k=fe;return n(),r("article",{onMouseenter:h[0]||(h[0]=ve=>m(!0)),onMouseleave:h[1]||(h[1]=ve=>m(!1)),class:b(["item px-2.5 flex flex-col gap-2.5 relative overflow-hidden transition-opacity duration-500 card z-20 group mb-16",[p,{"filter-empty":((x=c(s))==null?void 0:x.slug)!="all"&&!c(g).includes(($=c(s))==null?void 0:$.slug)},{"cover-empty":((C=c(t))==null?void 0:C.slug)!==""&&((F=c(t))==null?void 0:F.slug)!==((S=e.project)==null?void 0:S.slug)}]])},[e.project.featuredVideo?(n(),r("video",{key:0,src:e.project.featuredVideo,autoplay:"",loop:"",muted:"",playsinline:"",loading:"eager",class:b(["object-cover object-center w-full h-full pointer-events-none bg-gray-light",[d,{"grayscale bg-white":c(s).slug!="all"&&!c(g).includes(c(s).slug)}]]),poster:(H=(P=(I=e.project)==null?void 0:I.featuredImage)==null?void 0:P.asset)==null?void 0:H.url},null,10,St)):f("",!0),(B=e.project)!=null&&B.featuredVideo?f("",!0):(n(),L(y,{key:1,class:b(["object-cover object-center w-full h-full bg-gray-light",[d,{"grayscale bg-white":((R=c(s))==null?void 0:R.slug)!="all"&&!c(g).includes((W=c(s))==null?void 0:W.slug)}]]),image:(q=e.project)==null?void 0:q.featuredImage,width:`${((N=(D=e.project)==null?void 0:D.thumbnail)==null?void 0:N.size)==="small"?"400":((E=(O=e.project)==null?void 0:O.thumbnail)==null?void 0:E.size)==="medium"?"800":"1280"}`,mobileWidth:"450",alt:`${(X=e.project)==null?void 0:X.client} ${(Y=e.project)==null?void 0:Y.title}`,loading:"eager"},null,8,["class","image","width","alt"])),i("div",{class:b(["max-w-xs uppercase",[{"transition-colors md:group-hover:text-white md:group-hover:delay-700 delay-0":(G=(A=e.project)==null?void 0:A.status)==null?void 0:G.isPublic}]])},[i("div",{innerHTML:c(u)},null,8,It),(Z=(U=e.project)==null?void 0:U.status)!=null&&Z.statusText?(n(),r("label",{key:0,class:b(["block pt-5",[{"text-blue transition-colors md:group-hover:text-white md:group-hover:delay-700 delay-0":(K=(J=e.project)==null?void 0:J.status)==null?void 0:K.isPublic,"opacity-30":!((ae=(Q=e.project)==null?void 0:Q.status)!=null&&ae.isPublic)}]]),innerHTML:(ie=(le=e.project)==null?void 0:le.status)==null?void 0:ie.statusText},null,10,Tt)):f("",!0)],2),(de=(ue=e.project)==null?void 0:ue.status)!=null&&de.isPublic?(n(),L(k,{key:2,"aria-label":`View ${(pe=e.project)==null?void 0:pe.client} ${(me=e.project)==null?void 0:me.title} project`,class:"inset",to:`/work/${(_e=e.project)==null?void 0:_e.slug}`},null,8,["aria-label","to"])):f("",!0)],34)}}},Lt=M(Ft,[["__scopeId","data-v-6323bbff"]]),Vt={__name:"thumbnails",props:{showIndex:Boolean,projects:Object},setup(e){const s=ee(),t=ee();let o=null,d=null;const p=async()=>{{const l=(await ge(()=>import("./ChsAMAQv.js").then(a=>a.i),__vite__mapDeps([0,1,2,3]),import.meta.url)).default,m=(await ge(()=>import("./oHuBoWD7.js").then(a=>a.m),__vite__mapDeps([4,1,2,3]),import.meta.url)).default;l(t.value,()=>{o=new m(t.value,{itemSelector:".item",columnWidth:".card-small"})})}};return ye(()=>{p(),d=new IntersectionObserver(async(l,m)=>{for(let a of l)a.isIntersecting&&(o&&o.destroy(),await p())}),d.observe(s.value)}),we(()=>{d&&d.disconnect()}),(l,m)=>{const a=Lt;return j((n(),r("section",{ref_key:"thumbnailsView",ref:s,id:"thumbnails-view",class:"px-2.5"},[i("div",{class:"masonry",ref_key:"masonryGrid",ref:t},[(n(!0),r(V,null,z(e.projects,u=>(n(),L(a,{key:u._id,project:u,ref_for:!0,ref:"itemRefs"},null,8,["project"]))),128))],512)],512)),[[w,!e.showIndex]])}}},Jt=Vt,zt=["src"],Mt={class:"swiper-wrapper"},Pt={class:"relative overflow-hidden swiper-slide"},Ht={__name:"Cover",props:{project:Object},setup(e){const s=be(),t=ee(null);return ye(()=>{new xe(t.value,{slidesPerView:1,effect:"fade",autoplay:{delay:1e3},speed:300,loop:!0,fadeEffect:{crossFade:!0},spaceBetween:0})}),(o,d)=>{var l,m,a,u,g,_,h,y,k,x,$,C;const p=ce;return n(),r("div",{class:b(["absolute inset-0 z-0 hidden bg-black opacity-0 pointer-events-none md:block transition-opacity duration-500",[{"opacity-100":c(s).slug===e.project.slug}]])},[(l=e.project)!=null&&l.coverVideo?(n(),r("video",{key:0,src:(m=e.project)==null?void 0:m.coverVideo,autoplay:"",loop:"",muted:"",playsinline:"",loading:"eager",class:"absolute inset-0 object-cover w-full h-full m-auto pointer-events-none opacity-80"},null,8,zt)):f("",!0),!((a=e.project)!=null&&a.coverVideo)&&((g=(u=e.project)==null?void 0:u.coverImages)==null?void 0:g.length)>1?(n(),r("div",{key:1,ref_key:"swiperThumbnail",ref:t,class:"absolute inset-0 w-full h-full swiper"},[i("div",Mt,[(n(!0),r(V,null,z((_=e.project)==null?void 0:_.coverImages,F=>{var S,I;return n(),r("div",Pt,[T(p,{class:"absolute inset-0 object-cover w-full h-full m-auto opacity-80",image:F,width:"1280",mobileWidth:"400",alt:`${(S=e.project)==null?void 0:S.client} ${(I=e.project)==null?void 0:I.title}`,loading:"eager"},null,8,["image","alt"])])}),256))])],512)):f("",!0),!((h=e.project)!=null&&h.coverVideo)&&((k=(y=e.project)==null?void 0:y.coverImages)==null?void 0:k.length)===1?(n(),L(p,{key:2,class:"absolute inset-0 object-cover w-full h-full m-auto opacity-80",image:(x=e.project)==null?void 0:x.coverImages[0],width:"1280",mobileWidth:"400",alt:`${($=e.project)==null?void 0:$.client} ${(C=e.project)==null?void 0:C.title}`,loading:"eager"},null,8,["image","alt"])):f("",!0)],2)}}},Kt=Ht,Bt={},Rt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 7"},Wt=i("path",{fill:"currentColor",d:"M5.004 7 .974.03h8.05L5.004 7Z"},null,-1),qt=[Wt];function Dt(e,s){return n(),r("svg",Rt,qt)}const Nt=M(Bt,[["render",Dt]]),Ot={methods:{removeHash(e){e.preventDefault();const t=document.getElementById("est6").getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:t,behavior:"smooth"}),setTimeout(()=>{window.history.replaceState("",document.title,window.location.pathname+window.location.search)},0)}}},Et={class:"flex items-center justify-center w-full h-full"};function Xt(e,s,t,o,d,p){const l=Nt;return n(),r("a",{ref:"scrollToTop","aria-label":"Scroll to Header",class:"sticky bottom-0 left-0 z-40 block w-16 h-16 bg-white scrollTop",href:"#est6",onClick:s[0]||(s[0]=(...m)=>p.removeHash&&p.removeHash(...m))},[i("div",Et,[T(l,{class:"transform rotate-180 w-2.5 pointer-events-none"})])],512)}const Qt=M(Ot,[["render",Xt],["__scopeId","data-v-c3c78f97"]]),eo=async()=>{const e=te(),s=oe`*[_type == "project" && !(_id in path("drafts.**"))]|order(orderRank asc){
      _id,
      "order": count(*[_type == "project" && orderRank > ^.orderRank]) + 1,
      title,
      "slug": slug.current,
      seo {
          ...,
          ogimage {
              asset-> {
                url
              }
          }
      },
      "status": {
        statusText,
        isPublic,
      },
      featuredVideo,
      featuredImage {
        asset-> {
          metadata,
          url,
          altText,
          originalFilename
        }
      },
      "thumbnail": {
        "format": tFormat,
        "size": tSize,
      },
      "client": client->title,
      capabilities[]->{
        title,
        "slug": slug.current,
        code,
      },
      nature->{
        title,
        "slug": slug.current,
        code,
      },
      locations[]->{
        title,
        "slug": slug.current,
        code,
      },
      "year": years->title,
      coverImages[]{
        asset-> {
          metadata,
          url,
          altText,
          originalFilename
        },
      },
      coverVideo,
    }`,{data:t}=await ne("projects",()=>e.fetch(s));return t};export{Zt as _,Jt as a,Ut as b,Kt as c,Qt as d,eo as g};
